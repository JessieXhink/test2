/**
 * Copyright (c) 2014, 2015, Oracle and/or its affiliates.
 * All rights reserved.
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation","ojs/internal-deps/dvt/DvtToolkit"],function(a,f,d,b,c){function e(a,b){this.qba=b;this.Qca=a;this.m6="/"}a.eg=function(a){this.Init(a)};o_("AttributeGroupHandler",a.eg,a);a.b.ga(a.eg,a.b,"oj.AttributeGroupHandler");a.eg.prototype.Init=function(b){a.eg.q.Init.call(this);this.Vu=b?b:{};this.Gt={};this.XA=0;this.jx=this.rp();for(var c in this.Vu)b=this.jx.indexOf(this.Vu[c]),-1!==b&&this.jx.splice(b,1)};a.eg.prototype.rp=function(){return[]};
a.b.i("AttributeGroupHandler.prototype.getValueRamp",{rp:a.eg.prototype.rp});a.eg.prototype.Pc=function(a){if(this.Vu[a])return this.Vu[a];this.Gt[a]||(this.Gt[a]=this.jx[this.XA],this.XA==this.jx.length-1?this.XA=0:this.XA++);return this.Gt[a]};a.b.i("AttributeGroupHandler.prototype.getValue",{Pc:a.eg.prototype.Pc});a.eg.prototype.dY=function(){var a=[],b;for(b in this.Gt)a.push({category:b,value:this.Gt[b]});return a};a.b.i("AttributeGroupHandler.prototype.getCategoryAssignments",{dY:a.eg.prototype.dY});
a.eg.prototype.gX=function(a,b){this.Vu[a]=b};a.b.i("AttributeGroupHandler.prototype.addMatchRule",{gX:a.eg.prototype.gX});var g={CSS_TEXT_PROPERTIES:function(a){var b={};a&&(a.hasClass("oj-gaugeMetricLabel")&&a.hasClass(a.parentNode,"oj-ledGauge")?(b["font-size"]=!0,b.color=!0):a.hasClass(a,"oj-chartSliceLabel")?b.color=!0:a.hasClass("oj-treemap-node-header")&&(b["font-weight"]=!0));return g.C4(a,b)},CSS_BACKGROUND_PROPERTIES:function(a){return g.t4(a)},CSS_URL:function(a){return g.pba(a)},UM:"rgb(254, 0, 254)",
I1:"Times",J1:"1px",WM:"1",VM:"normal",B1:4,DA:{},yfa:function(a,b){return a.css(b)},pba:function(a){return(a=a.css("background-image"))&&-1!==a.indexOf("url(")?a.slice(a.indexOf("url(")+4,a.length-1).replace(/"/g,""):a},t4:function(a){var b="";a.css("border-top-color")&&(b+="border-color: "+a.css("border-top-color")+";");a.css("border-width")&&a.css("border-style")&&"none"!=a.css("border-style")&&(b+="border-width: "+a.css("border-width")+";");a.css("background-color")&&(b+="background-color: "+
a.css("background-color")+";");return b},C4:function(a,b){var c="",d=a.css("font-family");d&&d!==g.I1&&(c+="font-family: "+d.replace(/"/g,"'")+";");d=a.css("font-size");!d||-1<d.indexOf("px")&&parseFloat(d)<g.B1||b["font-size"]||(c+="font-size: "+d+";");(d=a.css("font-weight"))&&d!==g.WM&&!b["font-weight"]&&(c+="font-weight: "+d+";");(d=a.css("color"))&&d!==g.UM&&!b.color&&(c+="color: "+d+";");(d=a.css("font-style"))&&d!==g.VM&&(c+="font-style: "+d+";");return c},Vga:function(a,b,c,d){var e=f(document.createElement("div"));
e.attr("style","display:none;");a.append(e);a="";for(var q=0;q<c.length;q++)a=a+c[q]+" ";e.attr("class",a);f(document.body).append(e);c=f(document.createElement("div"));c.css("font-size",g.J1);c.css("color",g.UM);c.css("font-weight",g.WM);c.css("font-style",g.VM);e.append(c);for(var p in d)a=d[p],a instanceof Array||(a=[a]),g.Lba(c,b,p,a);e.remove()},Lba:function(a,b,c,d){g.DA[c]||(g.DA[c]={});for(var n=null,q=0;q<d.length;q++){var p=d[q],r=p.property;if(r){var t=g.DA[c][r];"undefined"==typeof t&&
(n||(n=f(document.createElement("div")),n.addClass(c),a.append(n)),t=g.Lca(n,r),g.DA[c][r]=t);if(null!=t){var p=new e(b,p.path),s=g[r];if(null!=s){var v=p.Pc();"CSS_URL"!==r&&null!=v&&(t+=v)}p.oha(t,null!=s)}}}},Lca:function(a,b){var c=g[b],c=c?c(a):g.yfa(a,b);return null==c||"string"==typeof c&&""==c.replace(/^\s+/g,"")?null:c}};a.Da("oj.dvtBaseComponent",f.oj.baseComponent,{_ComponentCreate:function(){this._super();this.JH=f(document.createElement("div"));this.JH.attr("style","visibility:hidden;");
this.element.append(this.JH);var b=this.element[0].parentElement;this.If=b&&b.dF?b.dF:new c.DvtContext(this.element[0],null,this.JH[0]);this.If.setReadingDirection(this.hc());this.If.setTooltipAttachedCallback(a.Components.vf);this.If.setTooltipStyleClass("oj-dvt-tooltip");this.If.setDatatipStyleClass("oj-dvt-datatip");f(document.body).hasClass("oj-hicontrast")&&c.DvtAgent.setHighContrast(!0);this.qa=this.Ef(this.If,this.si,this);this.If.getStage().addChild(this.qa);this.oda();this.AU();this.jq()},
Sg:function(){this._super();this.element.attr("tabIndex",0);this.Gf();this.mV=this.Mf.bind(this);a.C.fh(this.element[0],this.mV,250)},refresh:function(){this._super();this.If.setReadingDirection(this.hc());this.AU();this.Gf()},getNodeBySubId:function(a){var b=this.qa&&this.qa.getAutomation?this.qa.getAutomation():null;if(b)return b.getDomElementForSubId(this.mj(a))},getSubIdByNode:function(a){var b=this.qa&&this.qa.getAutomation?this.qa.getAutomation():null;if(b)return(a=b.getSubIdForDomElement(a))?
this.nj(a):null},mj:function(){return null},nj:function(){return null},Ix:function(){for(var a=this.He(),b=0;b<a.length;b++)this.element.addClass(a[b]);g.Vga(this.element,this.options,this.He(),this.pi())},He:function(){return["oj-dvtbase"]},pi:function(){return{}},qi:function(){return[]},Gh:function(){var b=this.options.translations,b={"DvtUtilBundle.CLEAR_SELECTION":b.labelClearSelection,"DvtUtilBundle.COLON_SEP_LIST":b.labelAndValue,"DvtUtilBundle.INVALID_DATA":b.labelInvalidData,"DvtUtilBundle.NO_DATA":b.labelNoData,
"DvtUtilBundle.DATA_VISUALIZATION":b.labelDataVisualization,"DvtUtilBundle.STATE_SELECTED":b.stateSelected,"DvtUtilBundle.STATE_UNSELECTED":b.stateUnselected,"DvtUtilBundle.STATE_MAXIMIZED":b.stateMaximized,"DvtUtilBundle.STATE_MINIMIZED":b.stateMinimized,"DvtUtilBundle.STATE_EXPANDED":b.stateExpanded,"DvtUtilBundle.STATE_COLLAPSED":b.stateCollapsed,"DvtUtilBundle.STATE_ISOLATED":b.stateIsolated,"DvtUtilBundle.STATE_HIDDEN":b.stateHidden,"DvtUtilBundle.STATE_VISIBLE":b.stateVisible,"DvtUtilBundle.SCALING_SUFFIX_THOUSAND":b.labelScalingSuffixThousand,
"DvtUtilBundle.SCALING_SUFFIX_MILLION":b.labelScalingSuffixMillion,"DvtUtilBundle.SCALING_SUFFIX_BILLION":b.labelScalingSuffixBillion,"DvtUtilBundle.SCALING_SUFFIX_TRILLION":b.labelScalingSuffixTrillion,"DvtUtilBundle.SCALING_SUFFIX_QUADRILLION":b.labelScalingSuffixQuadrillion},c=a.La.iw("abbreviated");b["DvtUtilBundle.MONTH_SHORT_JANUARY"]=c[0];b["DvtUtilBundle.MONTH_SHORT_FEBRUARY"]=c[1];b["DvtUtilBundle.MONTH_SHORT_MARCH"]=c[2];b["DvtUtilBundle.MONTH_SHORT_APRIL"]=c[3];b["DvtUtilBundle.MONTH_SHORT_MAY"]=
c[4];b["DvtUtilBundle.MONTH_SHORT_JUNE"]=c[5];b["DvtUtilBundle.MONTH_SHORT_JULY"]=c[6];b["DvtUtilBundle.MONTH_SHORT_AUGUST"]=c[7];b["DvtUtilBundle.MONTH_SHORT_SEPTEMBER"]=c[8];b["DvtUtilBundle.MONTH_SHORT_OCTOBER"]=c[9];b["DvtUtilBundle.MONTH_SHORT_NOVEMBER"]=c[10];b["DvtUtilBundle.MONTH_SHORT_DECEMBER"]=c[11];return b},RM:function(b,c){var d=this.options.translations[b];if(c){for(var e={},g=0;g<c.length;g++)e[c[g]]="{"+g+"}";d=a.ha.Jb(d,e)}return d},AU:function(){var a=this.Gh();c.DvtBundle.addLocalizedStrings(a)},
oda:function(){var b={};b.numberConverterFactory=a.na.jY("number");b.dateToIsoConverter=function(b){return b instanceof Date?a.cb.dateToLocalIso(b):b};b.isoToDateConverter=function(b){return"string"==typeof b?a.cb.isoToLocalDate(b):b};this.If.setLocaleHelpers(b)},_destroy:function(){this.If.hideTooltips();this.qa.destroy&&this.qa.destroy();a.C.cj(this.element[0],this.mV);this.element.children().remove();this.element.removeAttr("role").removeAttr("tabIndex");for(var b=this.He(),c=0;c<b.length;c++)this.element.removeClass(b[c]);
this._super()},_setOptions:function(a,b){this._superApply(arguments);if(!this.CO){var c=!1,d=this.qi(),e=["highlightedCategories","selection","dataCursorPosition"];f.each(a,function(a){if(0>d.indexOf(a)&&0>e.indexOf(a))return c=!0,!1});c?this.Gf():(void 0!==a.highlightedCategories&&this.qa.highlight(a.highlightedCategories),void 0!==a.selection&&this.qa.select(a.selection),void 0!==a.dataCursorPosition&&this.qa.positionDataCursor&&this.qa.positionDataCursor(a.dataCursorPosition))}},Ef:function(){return null},
si:function(a){var b=a&&a.getType?a.getType():null;b===c.DvtCategoryHideShowEvent.TYPE_HIDE||b===c.DvtCategoryHideShowEvent.TYPE_SHOW?this.Cc("hiddenCategories",a.hiddenCategories):b===c.DvtCategoryRolloverEvent.TYPE_OVER||b===c.DvtCategoryRolloverEvent.TYPE_OUT?this.Cc("highlightedCategories",a.categories):b===c.DvtOptionChangeEvent.TYPE?this.Cc(a.key,a.value,a.optionMetadata):this.options.contextMenu&&b===c.DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE&&this.Ye(f.Event(a.getNativeEvent()),"touch")},
Mf:function(){var a=this.element.width(),b=this.element.height();(null==this.ZA||null==this.Az||5<=Math.abs(a-this.ZA)+Math.abs(b-this.Az))&&this.Gf(!0)},jq:function(){},Gf:function(b){this.If.isReadyToRender()?(this.ZA=this.element.width(),this.Az=this.element.height(),this.options._width=this.ZA,this.options._height=this.Az,this.options._locale=a.ba.Vf(),this.Ix(),this.qa.render(b?null:this.options,this.ZA,this.Az),this.VH=!1):(a.u.info(this.options.translations.messageNotReadyToRender.summary),
this.VH=!0)},tk:function(){this._super();this.VH&&this.Gf()},Zl:function(){this._super();this.VH&&this.Gf()},ti:function(){this._super();this.If.hideTooltips()},$l:function(){this._super();this.If.hideTooltips()},Cc:function(a,b,c){this.CO=!0;this.option(a,b,{_context:{rd:!0,Oga:c,mb:!0}});this.CO=!1},Xe:function(a,b,c){"touch"!==c&&("keyboard"===c?this.Ye(b,c,{position:{of:this.qa.getKeyboardFocus()}}):this._super(a,b,c))},gt:function(b){return(b=a.Components.Eg(b)("instance"))?b.qa:null},kg:function(a){if(a){var b=
{},c;for(c in a)this.G3(a,c,b);Object.defineProperties(a,b)}},G3:function(a,b,c){var d=("selected"==b?"is":"get")+b.charAt(0).toUpperCase()+b.slice(1);c[d]={value:function(){return a[b]}}},Un:function(a){for(var b="",c=0;c<a.length;c++)b+="["+a[c]+"]";return b},qk:function(a){for(var b=[],c=0;0<a.indexOf("[",c);){var d=a.indexOf("[",c)+1,c=a.indexOf("]",c);b.push(Number(a.substring(d,c)));c+=1}return b},ri:function(a){return Number(this.sx(a))},sx:function(a){var b=a.indexOf("[")+1,c=a.indexOf("]");
return a.substring(b,c)}},!0);a.Ys=function(a){this.Init(a)};o_("ShapeAttributeGroupHandler",a.Ys,a);a.b.ga(a.Ys,a.eg,"oj.ShapeAttributeGroupHandler");a.Ys.Ht="square circle diamond plus triangleDown triangleUp human".split(" ");a.Ys.prototype.rp=function(){return a.Ys.Ht.slice()};a.xe=function(b){this.Ht=[];if(f(document.body).hasClass("oj-hicontrast"))this.Ht=a.xe.GM.slice();else{if(!a.xe.Rt){a.xe.Rt=[];var c=f(document.createElement("div"));c.attr("style","display:none;");c.attr("id","attrGps");
f(document.body).append(c);for(var d=0;d<a.xe.LN.length;d++){var e=f(document.createElement("div"));e.addClass(a.xe.LN[d]);c.append(e);(e=e.css("color"))&&a.xe.Rt.push(e)}c.remove()}this.Ht=0<a.xe.Rt.length?a.xe.Rt.slice():a.xe.GM.slice()}this.Init(b)};o_("ColorAttributeGroupHandler",a.xe,a);a.b.ga(a.xe,a.eg,"oj.ColorAttributeGroupHandler");a.xe.GM="#267db3 #68c182 #fad55c #ed6647 #8561c8 #6ddbdb #ffb54d #e371b2 #47bdef #a2bf39 #a75dba #f7f37b".split(" ");a.xe.LN="oj-dvt-category1 oj-dvt-category2 oj-dvt-category3 oj-dvt-category4 oj-dvt-category5 oj-dvt-category6 oj-dvt-category7 oj-dvt-category8 oj-dvt-category9 oj-dvt-category10 oj-dvt-category11 oj-dvt-category12".split(" ");
a.xe.Rt=null;a.xe.prototype.rp=function(){return this.Ht.slice()};e.prototype.Kca=function(a,b,c,d){for(var e={};a&&-1<b.indexOf(c);){var g=b.substring(0,b.indexOf(c));d&&void 0===a[g]&&(a[g]={});a=a[g];b=b.substring(b.indexOf(c)+1,b.length)}a&&(e.object=a,e.parameter=b);return e};e.prototype.rV=function(a){void 0===this.Uu&&(a=this.Kca(this.Qca,this.qba,this.m6,a),this.Uu=a.object,this.uH=a.parameter)};e.prototype.Pc=function(){this.rV(!1);return void 0===this.Uu?void 0:this.Uu[this.uH]};e.prototype.oha=
function(a,b){this.rV(!0);if(b||!this.Uu[this.uH])this.Uu[this.uH]=a}});