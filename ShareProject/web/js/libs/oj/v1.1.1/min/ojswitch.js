/**
 * Copyright (c) 2014, 2015, Oracle and/or its affiliates.
 * All rights reserved.
 */
"use strict";
/*
 Copyright 2013 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a){(function(){a.Da("oj.ojSwitch",$.oj.editableValue,{version:"1.1.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{disabled:!1,readOnly:!1,required:!1,title:void 0,value:!1},refresh:function(){this._super();this.za()},widget:function(){return this.sm},getNodeBySubId:function(a){var d,b=this.widget();d=null==a||null==a.subId?b:null;return d||(a=a.subId,"oj-switch-thumb"!==a&&"oj-switch-track"!==a)?d||null:b.find("."+a)[0]},
ae:function(f,d){var b;this._super(f,d);a.Be.vl([{W:"disabled",ra:!1,rc:!0},{W:"readonly",option:"readOnly",ra:!1,rc:!1,je:function(){return!1}},{W:"required",ra:!1,rc:!1,je:function(){return!1}},{W:"checked",option:"value",ra:!1,rc:!1,je:function(a){return a?!0:!1}},{W:"title",ra:void 0}],d,this);b=this.option("value");this.option({readOnly:!1,required:!1,value:!!b},{_context:{rd:!0,mb:!0}})},_ComponentCreate:function(){this._super();if(!this.element.is("input"))throw Error("ojSwitch can be bound to INPUT only.");
this.cT=this.element.css("display");this.element.css("display","none").attr("type","checkbox").attr("checked",this.option("value")).attr("tabindex","-1").attr("disabled",this.option("disabled")).attr("readonly",this.option("readOnly"));this.sm=this.element.wrap("\x3cdiv\x3e\x3c/div\x3e").parent().addClass("oj-switch oj-component oj-form-control");this.sm.append("\x3cdiv class\x3d'oj-switch-track'\x3e\x3cdiv class\x3d'oj-switch-thumb' tabIndex\x3d'0'\x3e\x3c/div\x3e\x3c/div\x3e");this.Dn=this.sm.find(".oj-switch-thumb");
this.Dn.attr("role","switch checkbox");this.Zca(this.element,this.Dn);this.Li();this.za()},Zca:function(a,d){var b=a.prop("id"),c=a.attr("aria-labelledby"),e=a.attr("aria-label");e?d.attr("aria-label",e):c?d.attr("aria-labelledby",c):b&&(b=$("label[for\x3d'"+b+"']"))&&(b.attr("id")?d.attr("aria-labelledby",b.attr("id")):d.attr("aria-label",$(b).text()))},za:function(){var a=$(this.widget()),d=this.option("title");void 0!==a&&(this.element.attr("checked",this.option("value")),a.removeClass("oj-disabled oj-selected oj-hover oj-active"),
$(this.Dn).attr("tabindex","0"),this.option("disabled")&&(a.addClass("oj-disabled"),$(this.Dn).removeAttr("tabindex")),this.option("value")&&a.addClass("oj-selected"),void 0!==d&&$(this.Dn).attr("title",d),$(this.Dn).attr("aria-checked",this.option("value")),$(this.Dn).removeAttr("aria-disabled"),a.removeAttr("aria-disabled"),this.px()||$(this.Dn).attr("aria-disabled","true"))},Li:function(){this.px()&&this._on(this.sm,this.Tda);this._hoverable(this.sm);this._focusable(this.sm)},Tda:{keydown:function(a){if(a.which===
$.ui.keyCode.ENTER||a.which===$.ui.keyCode.SPACE)$(a.currentTarget).addClass("oj-active"),a.preventDefault()},keyup:function(a){a.which!==$.ui.keyCode.ENTER&&a.which!==$.ui.keyCode.SPACE||this.tc(!this.option("value"),a)},mousedown:function(a){1===a.which&&$(a.currentTarget).addClass("oj-active")},mouseup:function(a){1===a.which&&this.tc(!this.option("value"),a)},jja:function(a){this.tc(!this.option("value"),a);a.preventDefault()}},_GetDefaultStyleClass:function(){return"oj-switch"},via:function(){return"switch checkbox"},
_destroy:function(){this.sm.find(".oj-switch-track").remove();a.C.unwrap(this.element);this.mq(this.element);return this._super()},lg:function(){return this.sm},_setOption:function(a,d,b){switch(a){case "disabled":case "value":d=!!d;break;case "readOnly":case "required":d=!1;break}this._super(a,d,b);this.za()}})})()});